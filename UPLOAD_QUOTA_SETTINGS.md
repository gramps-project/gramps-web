# Upload Quota Settings - Редактирование квот

## Обзор

Функциональность редактирования квот добавлена прямо в существующий компонент `grampsjs-tree-quotas` в панели администратора Gramps Web.

## Функциональность

### Основные возможности:

1. **Просмотр текущих квот:**

   - Количество людей
   - Размер медиа объектов
   - Количество сообщений AI чата

2. **Редактирование квот:**

   - Максимальное количество людей
   - Максимальный размер медиа (МБ)
   - Максимальное количество сообщений AI чата

3. **Управление:**
   - Кнопка "Edit Quotas" для открытия диалога редактирования
   - Сохранение изменений на сервере
   - Уведомления об успехе/ошибке

## Установка и использование

### 1. Компонент уже интегрирован

Функциональность добавлена в существующий компонент:

- Путь: `src/components/GrampsjsTreeQuotas.js`
- Отображается в разделе "Usage quotas" панели администратора

### 2. API Endpoints

Компонент использует следующие API endpoints:

```
GET /api/trees/-    - Получение текущих квот
PUT /api/trees/-    - Обновление квот
```

### 3. Как использовать

1. **Откройте панель администратора**: http://localhost:8001/admin
2. **Перейдите в раздел "Usage quotas"**
3. **Нажмите кнопку "Edit Quotas"**
4. **Измените нужные значения**
5. **Нажмите "Save" для сохранения**

## Переводы

Добавлены переводы на следующие языки:

- Английский (`lang/en.json`)
- Русский (`lang/ru.json`)
- Украинский (`lang/uk.json`)

### Новые строки для перевода:

```json
{
  "Edit Quotas": "Редактировать квоты",
  "Edit Upload Quotas": "Редактировать квоты загрузки",
  "Max number of people": "Максимальное количество людей",
  "Max media size (MB)": "Максимальный размер медиа (МБ)",
  "Max AI chat messages": "Максимальное количество сообщений AI чата",
  "Cancel": "Отмена",
  "Save": "Сохранить",
  "Saving...": "Сохранение...",
  "Quotas updated successfully": "Квоты успешно обновлены",
  "Error updating quotas": "Ошибка обновления квот"
}
```

## Архитектура

### Модификации компонента:

1. **GrampsjsTreeQuotas** (`src/components/GrampsjsTreeQuotas.js`)
   - Добавлена кнопка "Edit Quotas"
   - Добавлен диалог редактирования
   - Добавлены методы для сохранения квот

### Стили:

- Использует существующие стили компонента
- Добавлены стили для диалога и формы
- Material Design компоненты

## Разработка

### Тестирование:

```bash
# Запуск сервера разработки
npm start

# Открыть панель администратора
http://localhost:8001/admin
```

## Безопасность

- Все изменения сохраняются через API с аутентификацией
- Валидация ввода на клиентской стороне
- Проверка прав доступа на серверной стороне

## Совместимость

- Совместим с существующей архитектурой Gramps Web
- Использует стандартные Material Web Components
- Поддерживает все современные браузеры
- Адаптивный дизайн для мобильных устройств
